<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>抽象工厂模式 | lizhouwei</title>
    <meta name="description" content="博学之，审问之，慎思之，眀辨之，笃行之">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.3e1d0bd1.css" as="style"><link rel="preload" href="/assets/js/app.b754686d.js" as="script"><link rel="preload" href="/assets/js/22.eb576cbd.js" as="script"><link rel="prefetch" href="/assets/js/10.dc6a57bc.js"><link rel="prefetch" href="/assets/js/11.05a7896a.js"><link rel="prefetch" href="/assets/js/12.87f729cc.js"><link rel="prefetch" href="/assets/js/13.b783eb80.js"><link rel="prefetch" href="/assets/js/14.fe15610f.js"><link rel="prefetch" href="/assets/js/15.4d747cf5.js"><link rel="prefetch" href="/assets/js/16.12cc21ce.js"><link rel="prefetch" href="/assets/js/17.87e584b1.js"><link rel="prefetch" href="/assets/js/18.a408f5f0.js"><link rel="prefetch" href="/assets/js/19.e175f669.js"><link rel="prefetch" href="/assets/js/2.81340e14.js"><link rel="prefetch" href="/assets/js/20.c6e6f090.js"><link rel="prefetch" href="/assets/js/21.b92c5565.js"><link rel="prefetch" href="/assets/js/23.08a7db77.js"><link rel="prefetch" href="/assets/js/24.d61aae73.js"><link rel="prefetch" href="/assets/js/25.09c47cf9.js"><link rel="prefetch" href="/assets/js/26.116135c4.js"><link rel="prefetch" href="/assets/js/27.d0014973.js"><link rel="prefetch" href="/assets/js/28.9267b2b6.js"><link rel="prefetch" href="/assets/js/29.41694a7d.js"><link rel="prefetch" href="/assets/js/3.df97d12b.js"><link rel="prefetch" href="/assets/js/30.02a18457.js"><link rel="prefetch" href="/assets/js/31.a2736d54.js"><link rel="prefetch" href="/assets/js/32.b6f1a898.js"><link rel="prefetch" href="/assets/js/33.2327629e.js"><link rel="prefetch" href="/assets/js/34.d381e84e.js"><link rel="prefetch" href="/assets/js/35.61f98868.js"><link rel="prefetch" href="/assets/js/36.4c841ea5.js"><link rel="prefetch" href="/assets/js/37.681ae4cb.js"><link rel="prefetch" href="/assets/js/38.58a9ee5e.js"><link rel="prefetch" href="/assets/js/39.4b09873b.js"><link rel="prefetch" href="/assets/js/4.283ac3a2.js"><link rel="prefetch" href="/assets/js/40.128c670d.js"><link rel="prefetch" href="/assets/js/41.4e5a175a.js"><link rel="prefetch" href="/assets/js/42.9931eddc.js"><link rel="prefetch" href="/assets/js/43.865cca26.js"><link rel="prefetch" href="/assets/js/44.5755d469.js"><link rel="prefetch" href="/assets/js/45.febddf97.js"><link rel="prefetch" href="/assets/js/46.7562b5b2.js"><link rel="prefetch" href="/assets/js/5.57704351.js"><link rel="prefetch" href="/assets/js/6.955fc97c.js"><link rel="prefetch" href="/assets/js/7.0d473d0c.js"><link rel="prefetch" href="/assets/js/8.156d9fda.js"><link rel="prefetch" href="/assets/js/9.9d034739.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3e1d0bd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">lizhouwei</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">java语言</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><a href="/framework/" class="nav-link router-link-active">框架</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lizhouwei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/lizhouwei/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">java语言</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><a href="/framework/" class="nav-link router-link-active">框架</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lizhouwei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/lizhouwei/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>spring</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>spring-core</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>spring-beans</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>spring-aop</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>springBoot</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>设计模式</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/framework/designmode/" class="sidebar-link">简介</a></li><li><a href="/framework/designmode/principle/" class="sidebar-link">设计模式遵循的设计原则</a></li><li><a href="/framework/designmode/UML.html" class="sidebar-link">统一建模语言UML</a></li><li><a href="/framework/designmode/FactoryMethod.html" class="sidebar-link">工厂方法模式</a></li><li><a href="/framework/designmode/AbstractFactory.html" class="active sidebar-link">抽象工厂模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#代码示例一" class="sidebar-link">代码示例一</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#未使用抽象工厂模式" class="sidebar-link">未使用抽象工厂模式</a></li><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#使用抽象工厂模式" class="sidebar-link">使用抽象工厂模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#抽象工厂模式优缺点" class="sidebar-link">抽象工厂模式优缺点</a></li><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#抽象工厂模式的本质" class="sidebar-link">抽象工厂模式的本质</a></li><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#抽象工厂模式使用场景" class="sidebar-link">抽象工厂模式使用场景</a></li><li class="sidebar-sub-header"><a href="/framework/designmode/AbstractFactory.html#相关设计模式" class="sidebar-link">相关设计模式</a></li></ul></li><li><a href="/framework/designmode/Builder.html" class="sidebar-link">构建者模式</a></li><li><a href="/framework/designmode/Facade.html" class="sidebar-link">外观模式</a></li><li><a href="/framework/designmode/Adapter.html" class="sidebar-link">适配器模式</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="抽象工厂模式"><a href="#抽象工厂模式" aria-hidden="true" class="header-anchor">#</a> 抽象工厂模式</h1> <h2 id="简介"><a href="#简介" aria-hidden="true" class="header-anchor">#</a> 简介</h2> <p>工厂方法模式的实质是，提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。</p> <p>抽象工厂模式和工厂方法模式解决的问题是有很大不同的，工厂方法模式关注的是单个产品对象的创建，比如创建CPU的工厂方法，它只关心如何创建CPU的对象，而创建主板的工厂方法，就只关心如何创建主板对象。<br>
而抽象工厂模式要创建一系列的产品对象，这一系列对象是构建新的对象所需要的组成部分，也就是这一系列被创建的对象相互之间是有约束的。</p> <h2 id="代码示例一"><a href="#代码示例一" aria-hidden="true" class="header-anchor">#</a> 代码示例一</h2> <p>我们在组装电脑的时候，通常需要选择一系列的配件，比如CPU、硬盘、内存、主板、电源、机箱等。为了，以安装COU和主板为例。<br>
事实上在选择CPU的时候、面临一系列的选择，例如品牌、型号、主频等，只有把这些确定下来，才嗯确定具体的CPU。<br>
同样在选择主板的时候，也面临一系列问题，比如品牌、芯片组、集成芯片、总线频率的问题只有这些确定下来，才能确定具体的主板。<br>
对于装机工程师而言，只知道组装电脑需要相应的配件，但是具体使用什么样的配件，还得由客户说了算。也就是说装机工程师只负责组装，而客户负责选装配所需要的具体的配件，因此，装机工程师在组装电脑时，只需要按客户的装机方案，去获取相应的配件，然后组装即可。</p> <h3 id="未使用抽象工厂模式"><a href="#未使用抽象工厂模式" aria-hidden="true" class="header-anchor">#</a> 未使用抽象工厂模式</h3> <p>对于装机工程师，只知道CPU和主板的接口，而不知道具体实现，客户告诉装机工程师自己的选择，然后装机工程师会通过相应的工厂去获取相应的实例对象。使用简单工厂模式实现<br>
(1) CPU和主板的接口</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * CPU 的接口
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CPUApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 示意方法，CPU 具有运算的功能
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>主板的接口定义</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 主板接口
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MainboardApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 示意方法，主板具有安装CPU的功能
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(2) CPU和主板的接口<br>
Intel的CPU的具体实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * Intel的CPU实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntelCPU</span> <span class="token keyword">implements</span> <span class="token class-name">CPUApi</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的针脚数目
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> pins <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">IntelCPU</span><span class="token punctuation">(</span><span class="token keyword">int</span> pins<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pins <span class="token operator">=</span> pins<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in Intel CPU,pins=&quot;</span><span class="token operator">+</span>pins<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>AMD的CPU的接口的具体实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * Amd的CPU实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AmdCPU</span> <span class="token keyword">implements</span> <span class="token class-name">CPUApi</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的针脚数目
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> pins <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">AmdCPU</span><span class="token punctuation">(</span><span class="token keyword">int</span> pins<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pins <span class="token operator">=</span> pins<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in Amd CPU,pins=&quot;</span><span class="token operator">+</span>pins<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(3) 主板的实现<br>
技嘉主板的实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 技嘉主板的实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GAMainboard</span> <span class="token keyword">implements</span> <span class="token class-name">MainboardApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的插槽的孔数
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> cpuHoles <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">GAMainboard</span><span class="token punctuation">(</span><span class="token keyword">int</span> cpuHoles<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpuHoles <span class="token operator">=</span> cpuHoles<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in GAMainboard ,cpuHoles=&quot;</span><span class="token operator">+</span>cpuHoles<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>微星主板的实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 微星主板的实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MSIMainboard</span> <span class="token keyword">implements</span> <span class="token class-name">MainboardApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的插槽的孔数
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> cpuHoles <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">GAMainboard</span><span class="token punctuation">(</span><span class="token keyword">int</span> cpuHoles<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpuHoles <span class="token operator">=</span> cpuHoles<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in MSIMainboard ,cpuHoles=&quot;</span><span class="token operator">+</span>cpuHoles<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(4) 创建CPU和主板的工厂<br>
创建CPU工厂实现的示例代码</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CPUFactory</span> <span class="token punctuation">{</span>
   
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CPUApi</span> <span class="token function">createCPUApi</span><span class="token punctuation">(</span><span class="token keyword">int</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token class-name">CPUApi</span> cpu <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       cpu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntelCPU</span><span class="token punctuation">(</span><span class="token number">1156</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       cpu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">AMDCPU</span><span class="token punctuation">(</span><span class="token number">939</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> cpu<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>创建主板工厂实现的示例代码</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainboardFactory</span> <span class="token punctuation">{</span>
  
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MainboardApi</span> <span class="token function">createMainboardApi</span><span class="token punctuation">(</span><span class="token keyword">int</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token class-name">MainboardApi</span> mainboard <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       mainboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GAMainboard</span><span class="token punctuation">(</span><span class="token number">1156</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       mainboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MSIMainboard</span><span class="token punctuation">(</span><span class="token number">939</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> mainboard<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(5) 装机工程师实现的示例代码</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ComputerEngineer</span> <span class="token punctuation">{</span>
  
  <span class="token comment">/**
   * 定义组装机器需要的CPU
   */</span>
  <span class="token keyword">private</span> <span class="token class-name">CPUApi</span> cpu <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * 定义组装机器需要的主板
   */</span>
  <span class="token keyword">private</span> <span class="token class-name">MainboardApi</span> mainboard <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">makeComputer</span><span class="token punctuation">(</span><span class="token keyword">int</span> cpuType<span class="token punctuation">,</span><span class="token keyword">int</span> mainboardType<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpu <span class="token operator">=</span> <span class="token class-name">CPUFactory</span><span class="token punctuation">.</span><span class="token function">createCPUApi</span><span class="token punctuation">(</span>cpuType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mainboard <span class="token operator">=</span> <span class="token class-name">MainboardFactory</span><span class="token punctuation">.</span><span class="token function">createMainboardApi</span><span class="token punctuation">(</span>mainboardType<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpu<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mainboard<span class="token punctuation">.</span><span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(6) 客户端调用示例代码</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span><span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//创建装机工程师</span>
    <span class="token class-name">ComputerEngineer</span> engineer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComputerEngineer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//选择配件并让工程师装机</span>
    engineer<span class="token punctuation">.</span><span class="token function">makeComputer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>上面虽然通过简单工厂解决了，但是CPU对象和主板对象之间是有相互约束的，是需要相互匹配的，而上面的实现模式并未体现两者之间的关联关系。</p></div> <h3 id="使用抽象工厂模式"><a href="#使用抽象工厂模式" aria-hidden="true" class="header-anchor">#</a> 使用抽象工厂模式</h3> <p>装机工程师要组装电脑对象，需要一系列产品对象，比如CPU、主板等，于是创建一个抽象工厂给装机工程师使用，在这个抽象工厂里面定义抽象的创建CPU和主板的方法，这个抽象工厂就相当于一个抽象的装机方案，在这个装机方案里面，各个配件是能够相互匹配的。</p> <p>每个装机的客户提出他们自己具体装机方案，或者选择已有的装机方案，相当于为抽象工厂提供了具体的子类，在这些具体的装机方案里，会创建具体的CPU和主板实现对象。<br>
(1) CPU和主板的接口</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * CPU 的接口
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CPUApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 示意方法，CPU 具有运算的功能
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>主板的接口定义</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 主板接口
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MainboardApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 示意方法，主板具有安装CPU的功能
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(2) CPU和主板的接口的实现<br>
Intel的CPU的具体实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * Intel的CPU实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntelCPU</span> <span class="token keyword">implements</span> <span class="token class-name">CPUApi</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的针脚数目
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> pins <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">IntelCPU</span><span class="token punctuation">(</span><span class="token keyword">int</span> pins<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pins <span class="token operator">=</span> pins<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in Intel CPU,pins=&quot;</span><span class="token operator">+</span>pins<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>AMD的CPU的接口的具体实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * Amd的CPU实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AmdCPU</span> <span class="token keyword">implements</span> <span class="token class-name">CPUApi</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的针脚数目
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> pins <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">AmdCPU</span><span class="token punctuation">(</span><span class="token keyword">int</span> pins<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pins <span class="token operator">=</span> pins<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in Amd CPU,pins=&quot;</span><span class="token operator">+</span>pins<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(3) 主板的实现<br>
技嘉主板的实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 技嘉主板的实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GAMainboard</span> <span class="token keyword">implements</span> <span class="token class-name">MainboardApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的插槽的孔数
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> cpuHoles <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">GAMainboard</span><span class="token punctuation">(</span><span class="token keyword">int</span> cpuHoles<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpuHoles <span class="token operator">=</span> cpuHoles<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in GAMainboard ,cpuHoles=&quot;</span><span class="token operator">+</span>cpuHoles<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>微星主板的实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 微星主板的实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MSIMainboard</span> <span class="token keyword">implements</span> <span class="token class-name">MainboardApi</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * CPU 的插槽的孔数
   */</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> cpuHoles <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * IntelCPU 构造方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">GAMainboard</span><span class="token punctuation">(</span><span class="token keyword">int</span> cpuHoles<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpuHoles <span class="token operator">=</span> cpuHoles<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Sysetm</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now in MSIMainboard ,cpuHoles=&quot;</span><span class="token operator">+</span>cpuHoles<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(4) 抽象工厂接口，声明创建抽象产品对象的操作</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AbstractFactory</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * 定义创建CPU的方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">CPUApi</span> <span class="token function">createCPUApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">/**
   * 定义创建主板的方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">MainboardApi</span> <span class="token function">createMainboardApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>(5) 抽象工厂的实现类，也就是具体的装机方案<br>
装机方案一 Intel 的 CPU 和 技嘉的主板</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Schema1</span> <span class="token keyword">implements</span> <span class="token class-name">AbstractFactory</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * 实现CPU的方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">CPUApi</span> <span class="token function">createCPUApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">IntelCPU</span><span class="token punctuation">(</span><span class="token number">1156</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

   <span class="token comment">/**
   * 定义创建主板的方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">MainboardApi</span> <span class="token function">createMainboardApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">GAMainboard</span><span class="token punctuation">(</span><span class="token number">1156</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>装机方案二 AMD 的 CPU 和 微星的主板</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Schema2</span> <span class="token keyword">implements</span> <span class="token class-name">AbstractFactory</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * 实现CPU的方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">CPUApi</span> <span class="token function">createCPUApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AmdCPU</span><span class="token punctuation">(</span><span class="token number">939</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

   <span class="token comment">/**
   * 定义创建主板的方法
   */</span>
  <span class="token keyword">public</span> <span class="token class-name">MainboardApi</span> <span class="token function">createMainboardApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MSIMainboard</span><span class="token punctuation">(</span><span class="token number">939</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(6) 装机的具体过程</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ComputerEngineer</span> <span class="token punctuation">{</span>
  
  <span class="token comment">/**
   * 定义组装机器需要的CPU
   */</span>
  <span class="token keyword">private</span> <span class="token class-name">CPUApi</span> cpu <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * 定义组装机器需要的主板
   */</span>
  <span class="token keyword">private</span> <span class="token class-name">MainboardApi</span> mainboard <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">makeComputer</span><span class="token punctuation">(</span><span class="token class-name">AbstractFactory</span> schema<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpu <span class="token operator">=</span> schema<span class="token punctuation">.</span><span class="token function">createCPUApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mainboard <span class="token operator">=</span> schema<span class="token punctuation">.</span><span class="token function">createMainboardApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">this</span><span class="token punctuation">.</span>cpu<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mainboard<span class="token punctuation">.</span><span class="token function">installCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(6) 客户端调用示例代码</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span><span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//创建装机工程师</span>
    <span class="token class-name">ComputerEngineer</span> engineer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComputerEngineer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//选择方案</span>
    <span class="token class-name">AbstractFactory</span> schema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//选择配件并让工程师装机</span>
    engineer<span class="token punctuation">.</span><span class="token function">makeComputer</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="抽象工厂模式优缺点"><a href="#抽象工厂模式优缺点" aria-hidden="true" class="header-anchor">#</a> 抽象工厂模式优缺点</h2> <p>抽象工厂模式优点</p> <ul><li>分离接口和实现<br>
客户端使用抽象工厂来创建需要的对象，而客户端根本不知道具体的实现是谁，客户端只是面向产品的接口编程而已，也就是说，客户端具体的产品中解耦。</li> <li>使得切换产品镞变得容易<br>
因为一个具体的工厂实现代表的是一个产品镞，比如上面例子的Shceme1代表装机方案一，Intel的CPU+技嘉的主板，如果要切换成Shceme2,那就变成装机方案二：AMD的CPU+微星的主板。<br>
客户端选用不同的工厂实现，就相当于是在切换不同的产品镞。</li></ul> <p>抽象工厂模式的缺点</p> <ul><li>不太容易扩展新的产品<br>
如果需要给整个产品镞添加一个新产品，那么就需要修改抽象工厂，这样就会导致修改所有的工厂实现类。</li> <li>容易造成类层次复杂<br>
在使用抽象工厂模式时，如果需要选择的层次过多，那么会造成整个类层次变得复杂。</li></ul> <h2 id="抽象工厂模式的本质"><a href="#抽象工厂模式的本质" aria-hidden="true" class="header-anchor">#</a> 抽象工厂模式的本质</h2> <p>工厂方法是选择单个产品的实现，虽然一个类里面可以有多个工厂，但这些方法之间一般是没有联系的，即使看起来像有联系。</p> <p>但是抽象工厂是为一个产品镞选择而实现的，定义在抽象工厂里面的方法通常是有联系的，它们都是产品的某一部分或者相互依赖的，如果抽象工厂里面只有定义一个方法，直接创建产品，那么就会退化成工厂方法。</p> <h2 id="抽象工厂模式使用场景"><a href="#抽象工厂模式使用场景" aria-hidden="true" class="header-anchor">#</a> 抽象工厂模式使用场景</h2> <ul><li>如果希望一个系统独立于它的产品的创建、组合和表示的时候，即希望一个系统只是知道产品的接口，而不关心实现的时候。</li> <li>如果一个系统要由多个产品系列中的某一个系类实现的时候。就可以动态的切换产品镞。</li> <li>如果要强调一系列相关产品的接口，以便于联合使用它们的时候。</li></ul> <h2 id="相关设计模式"><a href="#相关设计模式" aria-hidden="true" class="header-anchor">#</a> 相关设计模式</h2> <ul><li>抽象工厂模式和工厂方法模式<br>
工厂方法模式一般是针对单独的产品对象的创建，而抽象工厂模式注重产品镞对象的创建。<br>
如果把抽象工厂创建的产品镞简化，这个产品镞就只有一个产品，那么此时抽象工厂和工厂方法是差不多的，也就是抽象工厂可以退化为工厂方法。而工厂方法又可以退化成简单工厂。<br>
在抽象工厂的实现中，还可以使用工厂方法来提供抽象工厂的具体实现，也就是说他们可以组合使用。</li> <li>抽象工厂模式和单例模式<br>
在抽象工厂模式里面，具体的工厂实现，在整个应用中，通常一个产品系列只需要一个实例就可以了，因此可以把具体的工厂实现成为单例。</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/framework/designmode/FactoryMethod.html" class="prev">
          工厂方法模式
        </a></span> <span class="next"><a href="/framework/designmode/Builder.html">
          构建者模式
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.b754686d.js" defer></script><script src="/assets/js/22.eb576cbd.js" defer></script>
  </body>
</html>
